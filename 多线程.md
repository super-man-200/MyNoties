# 程序、进程、线程

**程序（program）**：是为了完成特定的任务、用某种语言编写的一组指令的集合。

**进程（process）**：

- 正在运行的一个程序
- 程序是静态的，进程是动态的
- 进程作为资源分配的单位，系统在运行时会为每个进程分配不同的内存区域

**线程（thread）**：进程可以进一步细化为线程，是一个程序内部的一条执行路径

- 若一个程序同一时间可以并行执行多个线程，就是支持多线程的
- 线程作为调度和执行的单位，每个线程拥有独立的运行栈和程序计数器(pc)，线程切换的开销小
- 一个进程可以拥有多个线程，多个线程共享同一个进程的内存资源，它们从同一个堆中分配对象

Java应用程序java.exe，其实至少由**三**个线程：**main（）主线程**，**gc（）垃圾回收线程**，**异常处理线程**

# 并行与并发

**并行：**多个CPU同时执行多个任务。

**并发：**一个CPU同时执行多个任务。

# 多线程的优点

- 提高应用程序的相应
- 提高计算机系统CPU的利用率
- 改善程序结构，将复杂的程序切分为多个线程，独立运行，利于理解和修改

# 多线程的创建和使用

## 1.继承Thread类

1. 创建一个继承于`Thread`类的子类
2. 重写`Thread`类的`run()`方法
3. 创建`Thread`类的子类的对象
4. 调用对象的`start()`方法

```java
public class ThreadDemo {
    public static void main(String[] args) {
        MyThread myThread = new MyThread();
        myThread.start();
//        myThread.run();
    }
}

class MyThread extends Thread{
    @Override
    public void run() {
        for (int i = 0; i < 100; i++) {
            if(i % 2 == 0){
                System.out.println(i);
            }
        }
    }
}
```

线程调用`run()`和`start()`的区别

- 调用`run()`就是直接调用我们自己写的方法，不会产生多的线程，在主线程执行
- 调用`start()`就是把我们线程里面的`run()`重写的代码交给`jvm`去处理，会产生多的线程

`start()`只能**调用一次**，否则会报错

## 2.线程的常用方法

- start()：启动当前线程，调用当前线程的run()
- run()：通常需要重写Thread()类中的此方法，将创建的线程要执行的操作声明在此方法中
- currentThread()：静态方法，返回执行当前代码的线程
- getName()：获取当前线程的名字
- setName()：设置当前线程的名字

